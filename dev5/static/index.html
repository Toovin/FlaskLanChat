<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAN Chat</title>
    <link rel="stylesheet" href="/static/lib/all.min.css">
    <link rel="stylesheet" href="/static/css/base.css">
    <link rel="stylesheet" href="/static/css/login.css">
    <link rel="stylesheet" href="/static/css/viewers.css">
    <link rel="stylesheet" href="/static/css/chat.css">
    <link rel="stylesheet" href="/static/css/sidebar.css">
    <link rel="stylesheet" href="/static/css/modals.css">
    <link rel="stylesheet" href="/static/css/members.css">
    <link rel="stylesheet" href="/static/css/reactions.css">
    <link rel="stylesheet" href="/static/css/effects.css">
</head>
<body>
    <div id="error-message" style="display: none; position: fixed; top: 10px; right: 10px; background: #dc3545; color: white; padding: 10px; border-radius: 4px; z-index: 1000;"></div>

    <div id="login-modal" class="modal">
        <div class="login-background"></div>
        <div class="modal-content">
            <h2>Welcome to LAN Chat</h2>
            <p>Sign in or create an account</p>
            <form id="login-form">
                <div class="form-group">
                    <label for="username-input">Username</label>
                    <input type="text" id="username-input" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password-input">Password</label>
                    <input type="password" id="password-input" name="password" required>
                </div>
                <div class="form-group">
                    <label for="avatar-input">Avatar (optional)</label>
                    <input type="file" id="avatar-input" name="avatar" accept="image/*">
                </div>
                <div class="form-actions button-container">
                    <button type="submit" id="login-button">Sign In</button>
                    <button type="submit" id="register-button">Create Account</button>
                </div>
            </form>
        </div>
    </div>

    <div id="loading-spinner" class="spinner">Loading...</div>

    <div id="image-gen-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Generate Image</h2>
            <form id="image-gen-form" action="javascript:void(0)">
                <div class="form-group">
                    <label for="prompt-input">Prompt</label>
                    <input type="text" id="prompt-input" name="prompt" placeholder="Enter image description">
                </div>
                <div class="form-group">
                    <label for="batch-size-input">Batch Size (1â€“4)</label>
                    <input type="number" id="batch-size-input" name="batch_size" min="1" max="4" value="1">
                </div>
                <div class="form-group">
                    <label for="width-input">Width</label>
                    <input type="number" id="width-input" name="width" value="1024">
                </div>
                <div class="form-group">
                    <label for="height-input">Height</label>
                    <input type="number" id="height-input" name="height" value="1024">
                </div>
                <div class="form-group">
                    <label for="steps-input">Steps</label>
                    <input type="number" id="steps-input" name="steps" value="33">
                </div>
                <div class="form-group">
                    <label for="cfg-scale-input">CFG Scale</label>
                    <input type="number" id="cfg-scale-input" name="cfg_scale" step="0.1" value="7">
                </div>
                <div class="form-group">
                    <label for="clip-skip-input">Clip Skip</label>
                    <input type="number" id="clip-skip-input" name="clip_skip" value="2">
                </div>
                <div class="form-group">
                    <label for="negative-prompt-input">Negative Prompt</label>
                    <input type="text" id="negative-prompt-input" name="negative_prompt" placeholder="Enter negative prompt">
                </div>
                <div class="form-group">
                    <label for="sampler-name-input">Sampler</label>
                    <select id="sampler-name-input" name="sampler_name"></select>
                </div>
                <div class="form-group">
                    <label for="scheduler-name-input">Scheduler</label>
                    <select id="scheduler-name-input" name="scheduler_name"></select>
                </div>
                <div class="form-actions">
                    <button type="submit">Generate Image</button>
                    <button type="button" class="cancel-button">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="app-container" class="app-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>LAN Chat</h1>
                <div class="user-info">
                    <div class="avatar">
                        <img src="/static/avatars/smile_1.png" alt="User Avatar">
                    </div>
                    <span class="username">Guest</span>
                    <span class="status">Online</span>
                </div>
            </div>
            <div class="channel-category">
                <h3>TEXT CHANNELS</h3>
                <div class="channel active">
                    <i class="fas fa-hashtag"></i><span>general</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="tabs">
                <div class="tab active" data-tab="channel">
                    <span>general</span>
                    <div class="channel-description">general discussion channel</div>
                </div>
                <div class="tab" data-tab="file-share">
                    <span>File Share</span>
                </div>
            </div>

            <div id="tab-content-channel" class="tab-content">
                <div id="messages-container" class="messages-container">
                    <div class="welcome-message">
                        <h2>Sometimes things break.</h2>
                        <h2>Sometimes they get better.</h2>
                    </div>
                </div>
                <button id="new-messages-button" style="display: none;">New Messages</button>
                <div class="chat-input-container">
                    <div id="typing-indicator-bar" style="display: none;">
                        <span id="typing-text"></span>
                    </div>
                    <div class="reply-bar" style="display: none;"></div>
                    <div class="input-wrapper">
                        <textarea class="message-input" placeholder="Message #general"></textarea>
                        <div class="input-actions">
                            <input type="file" id="chat-file-upload-input" multiple style="display: none;" accept="image/png,image/webp,image/jpeg,image/gif,application/pdf,.doc,.docx,text/plain,.md,video/mp4,video/webm,video/avi,video/quicktime">
                            <button class="action-btn send-image-btn"><i class="fas fa-paper-plane"></i></button>
                            <button class="action-btn upload-btn"><i class="fas fa-upload"></i></button>
                            <button class="action-btn voice-btn"><i class="fas fa-microphone"></i> Join Voice</button>
                            <label class="auto-scroll-label">
                                <input type="checkbox" id="auto-scroll-checkbox"> Auto-Scroll
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-content-file-share" class="tab-content" style="display: none;">
                <div class="file-share-container">
                    <button class="upload-btn">Upload</button>
                    <input type="file" id="file-share-upload-input" multiple style="display: none;">
                    <div class="file-list"></div>
                </div>
            </div>
        </div>

        <div class="members-sidebar">
            <div class="member-header">
                <h3>MEMBERS - 0</h3>
            </div>
            <div class="member-group">
                <div class="member">
                    <div class="member-avatar">
                        <img src="/static/avatars/smile_1.png" alt="Avatar">
                        <div class="status-dot online"></div>
                    </div>
                    <div class="member-info">
                        <span class="member-name">Username</span>
                        <span class="member-status">Online</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/lib/socket.io.min.js"></script>
    <script src="/static/lib/moment.min.js"></script>
    <script src="/static/lib/livekit-client.umd.min.js"></script>
    <script src="/static/core.js"></script>
    <script src="/static/viewers.js"></script>
    <script src="/static/login.js"></script>
    <script src="/static/socketEvents.js"></script>
    <script src="/static/messageUtils.js"></script>
    <script src="/static/chatInput.js"></script>
    <script src="/static/file_share.js"></script>
    <script src="/static/effects.js"></script>
    <script src="/static/lib/livekit-client.umd.js.map"></script>
</body>
</html>